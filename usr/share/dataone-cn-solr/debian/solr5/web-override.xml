<?xml version="1.0" encoding="UTF-8"?>
<!-- 

web-override.xml

Contains snippet of web.xml descriptor file.  Should be sufficient ot add DataONE filters to solr web app.
Howver cannot in practice get jetty to apply these filters when present only in this override file.

 -->
<web-app
  xmlns="http://java.sun.com/xml/ns/javaee"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xsi:schemaLocation="http://java.sun.com/xml/ns/javaee http://java.sun.com/xml/ns/javaee/web-app_2_5.xsd"
  metadata-complete="true"
  version="2.5"
>

        <filter>
                <filter-name>D1LogSolrAuthorizationFilter</filter-name>
                <filter-class>org.dataone.solr.servlet.LogServiceSessionAuthorizationFilter</filter-class>
        </filter>
        <filter-mapping>
                <filter-name>D1LogSolrAuthorizationFilter</filter-name>
                <url-pattern>/log_core/select/*</url-pattern>
        </filter-mapping>

        <filter>
                <filter-name>D1SearchSolrAuthorizationFilter</filter-name>
                <filter-class>org.dataone.solr.servlet.SearchServiceSessionAuthorizationFilter</filter-class>
        </filter>
        <filter-mapping>
                <filter-name>D1SearchSolrAuthorizationFilter</filter-name>
                <url-pattern>/search_core/select/*</url-pattern>
        </filter-mapping>

</web-app>